var dt=Object.defineProperty;var ht=(r,e,t)=>e in r?dt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var g=(r,e,t)=>(ht(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();class _e{constructor(e){g(this,"boardPiece");this.boardPiece=e}}const me=10**9+7,ve=-me;function mt(r,e,t){return(r.x-e)*(r.x-e)<=t*t}function rt(r){for(let e=0;e<h.COLUMNS;e++)if(mt(r,3*h.PIECE_RADIUS*e+h.MASK_X_BEGIN+2*h.PIECE_RADIUS,h.PIECE_RADIUS))return e;return-1}function le(r){return r[Math.floor(Math.random()*r.length)]}function st(r){const e=[];for(let t=0;t<r.length;t++)e[t]=r[t].slice();return e}function Oe(r,e,t){const s=st(r);if(s[0][t]!==v.EMPTY||t<0||t>=h.COLUMNS)return{success:!1,map:s};let i=!1,n=0;for(let o=0;o<h.ROWS-1;o++)if(s[o+1][t]!==v.EMPTY){i=!0,n=o;break}return i||(n=h.ROWS-1),s[n][t]=e,{success:!0,map:s}}var v=(r=>(r[r.EMPTY=0]="EMPTY",r[r.PLAYER_1=1]="PLAYER_1",r[r.PLAYER_2=2]="PLAYER_2",r[r.DRAW=3]="DRAW",r))(v||{});const p=class{constructor(){g(this,"map");g(this,"winnerBoardPiece");this.map=[],this.winnerBoardPiece=0,this.initConstants(),this.reset()}reset(){this.map=[];for(let e=0;e<p.ROWS;e++){this.map.push([]);for(let t=0;t<p.COLUMNS;t++)this.map[e].push(0)}this.winnerBoardPiece=0}initConstants(){p.CANVAS_HEIGHT=p.SCALE*480,p.CANVAS_WIDTH=p.SCALE*640,p.PIECE_RADIUS=p.SCALE*25,p.MASK_X_BEGIN=Math.max(0,p.CANVAS_WIDTH-(3*p.COLUMNS+1)*p.PIECE_RADIUS)/2,p.MASK_Y_BEGIN=Math.max(0,p.CANVAS_HEIGHT-(3*p.ROWS+1)*p.PIECE_RADIUS)/2,p.MESSAGE_WIDTH=p.SCALE*400,p.MESSAGE_X_BEGIN=(p.CANVAS_WIDTH-p.MESSAGE_WIDTH)/2,p.MESSAGE_Y_BEGIN=p.SCALE*20}async applyPlayerAction(e,t){const{success:s,map:i}=Oe(this.map,e.boardPiece,t);return this.map=i,s}debug(){console.log(this.map.map(e=>e.join(" ")).join(`
`))}getWinner(){if(this.winnerBoardPiece!==0)return this.winnerBoardPiece;const e=[[0,-1],[0,1],[-1,-1],[-1,0],[-1,1],[1,-1],[1,0],[1,1]],t=(i,n,o,l,c)=>c>=4?!0:i<0||n<0||i>=p.ROWS||n>=p.COLUMNS||this.map[i][n]!==o?!1:t(i+l[0],n+l[1],o,l,c+1);let s=0;for(let i=0;i<p.ROWS;i++)for(let n=0;n<p.COLUMNS;n++){const o=this.map[i][n];if(o!==0){for(let l=0;l<e.length;l++)if(t(i+e[l][0],n+e[l][1],o,e[l],1))return this.winnerBoardPiece=o}else s++}return s===0?this.winnerBoardPiece=3:0}getPlayerColor(e){switch(e){case 1:return p.PLAYER_1_COLOR;case 2:return p.PLAYER_2_COLOR;default:return"transparent"}}};let h=p;g(h,"ROWS",6),g(h,"COLUMNS",7),g(h,"PLAYER_1_COLOR","#ef453b"),g(h,"PLAYER_2_COLOR","#0059ff"),g(h,"PIECE_STROKE_STYLE","black"),g(h,"MASK_COLOR","#d8d8d8"),g(h,"CANVAS_HEIGHT"),g(h,"CANVAS_WIDTH"),g(h,"PIECE_RADIUS"),g(h,"MASK_X_BEGIN"),g(h,"MASK_Y_BEGIN"),g(h,"MESSAGE_WIDTH"),g(h,"MESSAGE_X_BEGIN"),g(h,"MESSAGE_Y_BEGIN"),g(h,"SCALE");const qe=class extends _e{constructor(t){super(t);g(this,"ownBoardPieceValue");g(this,"enemyBoardPiece");this.ownBoardPieceValue=this.getBoardPieceValue(t),this.enemyBoardPiece=t===v.PLAYER_1?v.PLAYER_2:v.PLAYER_1}getBoardPieceValue(t){return t===v.EMPTY?0:t===this.boardPiece?1:-1}getStateValue(t){let s=v.EMPTY,i=0;for(let n=0;n<h.ROWS;n++)for(let o=0;o<h.COLUMNS;o++){let l=0,c=0,u=0,m=0;for(let d=0;d<=3;d++)o+d<h.COLUMNS&&(l+=this.getBoardPieceValue(t[n][o+d])),n+d<h.ROWS&&(c+=this.getBoardPieceValue(t[n+d][o])),n+d<h.ROWS&&o+d<h.COLUMNS&&(u+=this.getBoardPieceValue(t[n+d][o+d])),n-d>=0&&o+d<7&&(m+=this.getBoardPieceValue(t[n-d][o+d]));i+=l*l*l,i+=c*c*c,i+=u*u*u,i+=m*m*m,Math.abs(l)===4?s=l>0?this.boardPiece:this.enemyBoardPiece:Math.abs(c)===4?s=c>0?this.boardPiece:this.enemyBoardPiece:Math.abs(u)===4?s=u>0?this.boardPiece:this.enemyBoardPiece:Math.abs(m)===4&&(s=m>0?this.boardPiece:this.enemyBoardPiece)}return{winnerBoardPiece:s,chain:i}}transformValues(t,s,i){const n=s===this.boardPiece,o=s===this.enemyBoardPiece;return t-=i*i,n?t=me-100-i*i:o&&(t=ve+100+i*i),t}getMove(t,s,i,n){const o=this.getStateValue(t),l=o.winnerBoardPiece===this.boardPiece,c=o.winnerBoardPiece===this.enemyBoardPiece;return s>=qe.MAX_DEPTH||l||c?{value:this.transformValues(o.chain,o.winnerBoardPiece,s)*this.ownBoardPieceValue,move:-1}:s%2===0?this.minState(t,s+1,i,n):this.maxState(t,s+1,i,n)}maxState(t,s,i,n){let o=ve,l=[];for(let c=0;c<h.COLUMNS;c++){const{success:u,map:m}=Oe(t,this.boardPiece,c);if(!u)continue;const{value:d}=this.getMove(m,s,i,n);if(d>o?(o=d,l=[c]):d===o&&l.push(c),o>n)return{value:o,move:le(l)};i=Math.max(i,o)}return{value:o,move:le(l)}}minState(t,s,i,n){let o=me,l=[];for(let c=0;c<h.COLUMNS;c++){const{success:u,map:m}=Oe(t,this.enemyBoardPiece,c);if(!u)continue;const{value:d}=this.getMove(m,s,i,n);if(d<o?(o=d,l=[c]):d===o&&l.push(c),o<i)return{value:o,move:le(l)};n=Math.min(n,o)}return{value:o,move:le(l)}}async getAction(t){const s=st(t.map),i=this.maxState(s,0,ve,me);return console.log(`AI ${this.boardPiece} choose column ${i.move} with value of ${i.value}`),i.move}};let ge=qe;g(ge,"MAX_DEPTH",4);class Me extends _e{constructor(t){super(t);g(this,"clickPromiseResolver");this.clickPromiseResolver=null}doAction(t){this.clickPromiseResolver&&0<=t&&t<h.COLUMNS&&this.clickPromiseResolver(t)}getAction(t){return new Promise(s=>this.clickPromiseResolver=s)}}class We extends _e{constructor(t){super(t);g(this,"actionPromiseResolver");this.actionPromiseResolver=null}doAction(t){this.actionPromiseResolver&&0<=t&&t<h.COLUMNS&&this.actionPromiseResolver(t)}getAction(t){return new Promise(s=>this.actionPromiseResolver=s)}}class nt{constructor(e,t){g(this,"board");g(this,"players");g(this,"currentPlayerId");g(this,"isMoveAllowed",!1);g(this,"isGameWon",!1);g(this,"isGameEnded",!1);this.board=t,this.players=e,this.currentPlayerId=0,this.reset()}reset(){this.isMoveAllowed=!1,this.isGameWon=!1,this.board.reset()}end(){this.reset(),this.isGameEnded=!0}async start(){for(this.isMoveAllowed=!0;!this.isGameWon;){if(this.isGameEnded)return;await this.move();const e=this.board.getWinner();if(e!==v.EMPTY){console.log("[GameBase] Game over: winner is player ",e),this.isGameWon=!0,this.isMoveAllowed=!1,this.announceWinner(e);break}}}async move(){if(this.isGameEnded||!this.isMoveAllowed)return;const e=this.players[this.currentPlayerId];let t=!1;for(;!t;){if(this.isGameEnded)return;this.waitingForMove();const s=await e.getAction(this.board);this.isMoveAllowed=!1,this.beforeMoveApplied(s),t=await this.board.applyPlayerAction(e,s),this.isMoveAllowed=!0,t?this.afterMove(s):console.log("Move not allowed! Try again.")}this.currentPlayerId=this.getNextPlayer()}announceWinner(e){const t={[v.DRAW]:"draw",[v.PLAYER_1]:"Player 1",[v.PLAYER_2]:"Player 2",[v.EMPTY]:"none"}[e];console.log("[GameBase] Game over: winner is ",t,e)}getNextPlayer(){return this.currentPlayerId===0?1:0}}var O=(r=>(r.NEW_PLAYER_CONNECTION_REQUEST="NEW_PLAYER_CONNECTION_REQUEST",r.NEW_PLAYER_CONNECTION_OK="NEW_PLAYER_CONNECTION_OK",r.NEW_MATCH_REQUEST="NEW_MATCH_REQUEST",r.NEW_MATCH_OK="NEW_MATCH_OK",r.GAME_READY="GAME_READY",r.GAME_ENDED="GAME_ENDED",r.GAME_RESET="GAME_RESET",r.CONNECT_MATCH_REQUEST="CONNECT_MATCH_REQUEST",r.CONNECT_MATCH_OK="CONNECT_MATCH_OK",r.CONNECT_MATCH_FAIL="CONNECT_MATCH_FAIL",r.HUNG_UP="HUNG_UP",r.OTHER_PLAYER_HUNGUP="OTHER_PLAYER_HUNGUP",r.MOVE_MAIN="MOVE_MAIN",r.MOVE_SHADOW="MOVE_SHADOW",r))(O||{});function ce(r,e){return console.log("[ws] send: ",r,e),JSON.stringify({type:r,payload:e||{}})}function gt(r){const e=JSON.parse(r);return console.log("[ws] receive: ",e),e}function ft(){const r=[];let e=!1;function t(){e||(e=!0,window.requestAnimationFrame?window.requestAnimationFrame(s):setTimeout(s,66))}function s(){r.forEach(n=>{n()}),e=!1}function i(n){n&&r.push(n)}return{add:n=>{r.length||window.addEventListener("resize",t),i(n)}}}function Ue(r,{x:e=0,y:t=0,r:s=0,fillStyle:i="",strokeStyle:n=""}){r.save(),r.fillStyle=i,r.strokeStyle=n,r.beginPath(),r.arc(e,t,s,0,2*Math.PI,!1),r.fill(),r.restore()}function wt(r){const e=r.context;e.save(),e.fillStyle=E.MASK_COLOR,e.beginPath();const t=2*E.PIECE_RADIUS,s=3*E.PIECE_RADIUS;for(let i=0;i<E.ROWS;i++)for(let n=0;n<E.COLUMNS;n++)e.arc(s*n+E.MASK_X_BEGIN+t,s*i+E.MASK_Y_BEGIN+t,E.PIECE_RADIUS,0,2*Math.PI),e.rect(s*n+E.MASK_X_BEGIN+2*t,s*i+E.MASK_Y_BEGIN,-2*t,2*t);e.fill(),e.restore()}function ye(r){r.context.clearRect(0,0,E.CANVAS_WIDTH,E.CANVAS_HEIGHT)}function Le(){let r=null;const e=new Promise(t=>r=t);return r&&window.requestAnimationFrame(r),e}class E extends h{constructor(t){super();g(this,"canvas");g(this,"context");this.canvas=t,this.context=t.getContext("2d"),this.getBoardScale(),this.initConstants(),this.reset(),this.onresize()}getBoardScale(){return window.innerWidth<640?h.SCALE=.5:h.SCALE=1}onresize(){let t=h.SCALE;ft().add(()=>{this.getBoardScale(),t!==h.SCALE&&(t=h.SCALE,this.initConstants(),ye(this),this.render())})}reset(){super.reset(),this.canvas&&(ye(this),this.render())}initConstants(){if(super.initConstants(),this.canvas){const t=self.devicePixelRatio||1;this.canvas.width=E.CANVAS_WIDTH*t,this.canvas.height=E.CANVAS_HEIGHT*t,this.context.scale(t,t),this.canvas.style.width=E.CANVAS_WIDTH+"px",this.canvas.style.height=E.CANVAS_HEIGHT+"px"}}async animateAction(t,s,i){const n=this.getPlayerColor(i);let o=0;const l=async()=>{ye(this),Ue(this.context,{x:3*h.PIECE_RADIUS*s+h.MASK_X_BEGIN+2*h.PIECE_RADIUS,y:o+h.MASK_Y_BEGIN+2*h.PIECE_RADIUS,r:h.PIECE_RADIUS,fillStyle:n,strokeStyle:h.PIECE_STROKE_STYLE}),this.render(),o+=h.PIECE_RADIUS};for(;t*3*h.PIECE_RADIUS>=o;)await Le(),l()}render(){wt(this);for(let t=0;t<h.ROWS;t++)for(let s=0;s<h.COLUMNS;s++)Ue(this.context,{x:3*h.PIECE_RADIUS*s+h.MASK_X_BEGIN+2*h.PIECE_RADIUS,y:3*h.PIECE_RADIUS*t+h.MASK_Y_BEGIN+2*h.PIECE_RADIUS,r:h.PIECE_RADIUS,fillStyle:this.getPlayerColor(this.map[t][s]),strokeStyle:h.PIECE_STROKE_STYLE})}async applyPlayerAction(t,s){if(this.map[0][s]!==v.EMPTY||s<0||s>=h.COLUMNS)return!1;let i=!1,n=0;for(let o=0;o<h.ROWS-1;o++)if(this.map[o+1][s]!==v.EMPTY){i=!0,n=o;break}return i||(n=h.ROWS-1),await this.animateAction(n,s,t.boardPiece),this.map[n][s]=t.boardPiece,this.debug(),await Le(),this.render(),!0}}function H(r=""){const e=document.querySelector(".message-body");if(!e){console.error(".message-body not found");return}const t=document.querySelector(".message-body-content");if(!t){console.error(".message-body-content not found");return}e.hasAttribute("open")&&e.close(),t.innerHTML=r,e.showModal()}const Q=document.querySelector(".statusbox"),U=document.querySelector(".statusbox-body-game"),Ie=document.querySelector(".statusbox-body-connection"),$=document.querySelector(".statusbox-body-player");class Mt extends nt{constructor(e,t){super(e,t)}beforeMoveApplied(){U&&(U.textContent=`Dropping ${this.currentPlayerId===0?"ðŸ”´":"ðŸ”µ"} disc`)}waitingForMove(){!this.isMoveAllowed||this.isGameWon||(U&&(U.textContent="Wating for move"),$&&($.textContent=this.currentPlayerId===0?"Player 1 ðŸ”´":"Player 2 ðŸ”µ"))}afterMove(){}announceWinner(e){if(super.announceWinner(e),e===v.EMPTY)return;let t="<h1>Thank you for playing.</h1>";e===v.DRAW?t+="It's a draw":t+=`Player ${e} wins`,t+=".<br />After dismissing this message, click the board to reset game.",H(t),U&&(U.textContent="Game over"),$&&($.textContent=e===v.DRAW?"It's a draw":`Player ${e===v.PLAYER_1?"1 ðŸ”´":"2 ðŸ”µ"} wins`)}}function pt(r,e){const t=document.querySelector("canvas");if(!t){console.error("Canvas DOM is null");return}const s=new E(t),i=new Me(v.PLAYER_1),n=new r([i,e],s);Q==null||Q.classList.remove("hidden"),Ie==null||Ie.classList.add("hidden"),n.start(),U&&(U.textContent="Wating for move"),$&&($.textContent="Player 1 ðŸ”´");async function o(l){if(n.isGameWon)n.reset(),await Le(),n.start();else{if(!t)return;const c=t.getBoundingClientRect(),u=l.clientX-c.left,m=l.clientY-c.top,d=rt({x:u,y:m});n.currentPlayerId===0?i.doAction(d):n.currentPlayerId===1&&e instanceof Me&&e.doAction(d)}}return t.addEventListener("click",o),{end:()=>{n.end(),t.removeEventListener("click",o),Q==null||Q.classList.add("hidden")}}}class bt extends Mt{}function vt(){return pt(bt,new ge(v.PLAYER_2))}document.querySelector(".statusbox");document.querySelector(".statusbox-body-game");document.querySelector(".statusbox-body-connection");document.querySelector(".statusbox-body-player");var Y=(r=>(r[r.FIRST=v.PLAYER_1]="FIRST",r[r.SECOND=v.PLAYER_2]="SECOND",r))(Y||{});const V=document.querySelector(".statusbox"),P=document.querySelector(".statusbox-body-game"),R=document.querySelector(".statusbox-body-connection"),j=document.querySelector(".statusbox-body-player"),yt={}.C4_SERVER_ENDPOINT?{}.C4_SERVER_ENDPOINT:"wss://c4-server-pinones.fly.dev/";class It extends nt{constructor(t,s,{gameMode:i}){super(t,s);g(this,"connectionPlayerId",null);g(this,"connectionMatchId",null);g(this,"ws",null);g(this,"gameMode");g(this,"playerMain");g(this,"playerShadow");g(this,"initMatch",()=>{this.ws&&this.ws.send(ce(O.NEW_MATCH_REQUEST,{playerId:this.connectionPlayerId}))});g(this,"connectToMatch",t=>{this.ws&&this.ws.send(ce(O.CONNECT_MATCH_REQUEST,{playerId:this.connectionPlayerId,matchId:t}))});g(this,"messageActionHandler",t=>{var s;switch(t.type){case O.NEW_PLAYER_CONNECTION_OK:if(this.connectionPlayerId=t.payload.playerId,this.gameMode===Y.FIRST)this.initMatch();else if(this.gameMode===Y.SECOND){const n=new URLSearchParams(location.search).get("matchId");if(!n)return;this.connectToMatch(n)}break;case O.NEW_MATCH_OK:{this.connectionMatchId=t.payload.matchId;const i=`${location.href}?matchId=${this.connectionMatchId}`;console.log("[url] Share this",i),H(`<h1>Share this URL</h1><p>Please share this URL to your friend to start the game: <input type="text" id="copy-box" class="copy-box" readonly value="${i}" /><button type="button" id="copy-button">Copy</button></p>`);const n=document.getElementById("copy-box");n.focus(),n.select(),(s=document.getElementById("copy-button"))==null||s.addEventListener("click",async()=>{let o=!1;if(navigator.clipboard)try{await navigator.clipboard.writeText(i),console.log("Using Clipboard API to write share url into clipboard"),o=!0}catch{}o||(n==null||n.select(),n==null||n.setSelectionRange(0,99999),document.execCommand("copy"),console.log("Using fallback method to write share url into clipboard"))})}break;case O.CONNECT_MATCH_OK:this.connectionMatchId=t.payload.matchId;break;case O.CONNECT_MATCH_FAIL:H("<h1>Error</h1> Failed to connect to match."),R&&(R.textContent="Connection error");break;case O.GAME_READY:H(`<h1>Game started</h1> The first piece should be dropped by ${this.isCurrentMoveByCurrentPlayer()?"you":"the other player"}`),P&&(P.textContent="Wating for move"),j&&(j.textContent=(this.currentPlayerId===0?"Player 1 ðŸ”´":"Player 2 ðŸ”µ")+" "+(this.isCurrentMoveByCurrentPlayer()?"(you)":"(the other player)")),this.start();break;case O.MOVE_SHADOW:this.playerShadow.doAction(t.payload.column);break;case O.GAME_ENDED:{const{winnerBoardPiece:i}=t.payload,n=i===v.DRAW?"It's a draw":`Player ${i===v.PLAYER_1?"1 ðŸ”´":"2 ðŸ”µ"} wins`;H("<h1>Thank you for playing</h1>"+n+"<br />Next game will be started in 10 seconds."),P&&(P.textContent="Game over"),j&&(j.textContent=n)}break;case O.GAME_RESET:this.reset();break;case O.OTHER_PLAYER_HUNGUP:H("<h1>Other player disconnected</h1> Please reload the page to start a new match");break}});g(this,"beforeMoveApplied",()=>{P&&(P.textContent=`Dropping ${this.currentPlayerId===0?"ðŸ”´":"ðŸ”µ"} disc`)});g(this,"waitingForMove",()=>{P&&(P.textContent="Wating for move"),j&&(j.textContent=(this.currentPlayerId===0?"Player 1 ðŸ”´":"Player 2 ðŸ”µ")+" "+(this.isCurrentMoveByCurrentPlayer()?"(you)":"(the other player)"))});g(this,"afterMove",t=>{this.ws&&this.isCurrentMoveByCurrentPlayer()&&this.ws.send(ce(O.MOVE_MAIN,{playerId:this.connectionPlayerId,matchId:this.connectionMatchId,column:t}))});this.gameMode=i,i===Y.FIRST?(this.playerMain=t[0],this.playerShadow=t[1]):(this.playerMain=t[1],this.playerShadow=t[0]),this.initConnection()}end(){super.end(),this.endConnection()}endConnection(){this.ws&&this.ws.close()}initConnection(){this.connectionPlayerId=null,this.connectionMatchId=null,this.ws&&this.ws.close();const t=()=>{this.isMoveAllowed=!1,R&&(R.textContent="Disconnected from server"),P&&(P.textContent="Game over"),j&&(j.textContent="Disconnected from match")};this.ws=new WebSocket(yt),this.ws.addEventListener("message",s=>{this.messageActionHandler(gt(s.data))}),this.ws.addEventListener("open",()=>{this.ws&&this.ws.send(ce(O.NEW_PLAYER_CONNECTION_REQUEST)),R&&(R.textContent="Connected to server"),P&&(P.textContent=""),j&&(j.textContent="")}),this.ws.addEventListener("close",s=>{console.log("[ws] close event",s),t()}),this.ws.addEventListener("error",s=>{console.log("[ws] error event",s),t()})}isCurrentMoveByCurrentPlayer(){return this.currentPlayerId+1===this.gameMode}announceWinner(t){super.announceWinner(t)}}function Fe(){const r=document.querySelector("canvas");if(!r){console.error("Canvas DOM is null");return}const s=new URLSearchParams(location.search).get("matchId")?Y.SECOND:Y.FIRST,i=new E(r),n=s===Y.FIRST?[new Me(v.PLAYER_1),new We(v.PLAYER_2)]:[new We(v.PLAYER_1),new Me(v.PLAYER_2)],o=new It(n,i,{gameMode:s});V==null||V.classList.remove("hidden"),R==null||R.classList.remove("hidden");async function l(c){if(!o.isGameWon){if(!r)return;const u=r.getBoundingClientRect(),m=c.clientX-u.left,d=c.clientY-u.top,w=rt({x:m,y:d});o.playerMain.doAction(w)}}return r.addEventListener("click",l),{end:()=>{o.end(),r.removeEventListener("click",l),V==null||V.classList.add("hidden")}}}function Z(){}function it(r){return r()}function Be(){return Object.create(null)}function G(r){r.forEach(it)}function At(r){return typeof r=="function"}function Nt(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let ue;function Pe(r,e){return ue||(ue=document.createElement("a")),ue.href=e,r===ue.href}function Ct(r){return Object.keys(r).length===0}function Ae(r){return r??""}function x(r,e){r.appendChild(e)}function St(r,e,t){const s=Et(r);if(!s.getElementById(e)){const i=L("style");i.id=e,i.textContent=t,kt(s,i)}}function Et(r){if(!r)return document;const e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function kt(r,e){x(r.head||r,e)}function oe(r,e,t){r.insertBefore(e,t||null)}function X(r){r.parentNode.removeChild(r)}function Ye(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function L(r){return document.createElement(r)}function pe(r){return document.createTextNode(r)}function K(){return pe(" ")}function T(r,e,t,s){return r.addEventListener(e,t,s),()=>r.removeEventListener(e,t,s)}function b(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function xt(r){return Array.from(r.childNodes)}function Dt(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}let ie;function se(r){ie=r}function Ot(){if(!ie)throw new Error("Function called outside component initialization");return ie}function Lt(r){Ot().$$.on_mount.push(r)}const ee=[],Ge=[],fe=[],Qe=[],Pt=Promise.resolve();let ze=!1;function zt(){ze||(ze=!0,Pt.then(ot))}function je(r){fe.push(r)}const Ne=new Set;let de=0;function ot(){const r=ie;do{for(;de<ee.length;){const e=ee[de];de++,se(e),jt(e.$$)}for(se(null),ee.length=0,de=0;Ge.length;)Ge.pop()();for(let e=0;e<fe.length;e+=1){const t=fe[e];Ne.has(t)||(Ne.add(t),t())}fe.length=0}while(ee.length);for(;Qe.length;)Qe.pop()();ze=!1,Ne.clear(),se(r)}function jt(r){if(r.fragment!==null){r.update(),G(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(je)}}const Tt=new Set;function _t(r,e){r&&r.i&&(Tt.delete(r),r.i(e))}function Rt(r,e,t,s){const{fragment:i,on_mount:n,on_destroy:o,after_update:l}=r.$$;i&&i.m(e,t),s||je(()=>{const c=n.map(it).filter(At);o?o.push(...c):G(c),r.$$.on_mount=[]}),l.forEach(je)}function qt(r,e){const t=r.$$;t.fragment!==null&&(G(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Wt(r,e){r.$$.dirty[0]===-1&&(ee.push(r),zt(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function Ut(r,e,t,s,i,n,o,l=[-1]){const c=ie;se(r);const u=r.$$={fragment:null,ctx:null,props:n,update:Z,not_equal:i,bound:Be(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Be(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};o&&o(u.root);let m=!1;if(u.ctx=t?t(r,e.props||{},(d,w,...C)=>{const N=C.length?C[0]:w;return u.ctx&&i(u.ctx[d],u.ctx[d]=N)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](N),m&&Wt(r,d)),w}):[],u.update(),m=!0,G(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const d=xt(e.target);u.fragment&&u.fragment.l(d),d.forEach(X)}else u.fragment&&u.fragment.c();e.intro&&_t(r.$$.fragment),Rt(r,e.target,e.anchor,e.customElement),ot()}se(c)}class Ft{$destroy(){qt(this,1),this.$destroy=Z}$on(e,t){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const i=s.indexOf(t);i!==-1&&s.splice(i,1)}}$set(e){this.$$set&&!Ct(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Bt(r){St(r,"svelte-1mtuslq",`.sr-only.svelte-1mtuslq.svelte-1mtuslq{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.fixed.svelte-1mtuslq.svelte-1mtuslq{position:fixed}.inset-0.svelte-1mtuslq.svelte-1mtuslq{top:0px;right:0px;bottom:0px;left:0px}.z-40.svelte-1mtuslq.svelte-1mtuslq{z-index:40}.z-50.svelte-1mtuslq.svelte-1mtuslq{z-index:50}.mx-6.svelte-1mtuslq.svelte-1mtuslq{margin-left:1.5rem;margin-right:1.5rem}.mb-4.svelte-1mtuslq.svelte-1mtuslq{margin-bottom:1rem}.flex.svelte-1mtuslq.svelte-1mtuslq{display:flex}.h-8.svelte-1mtuslq.svelte-1mtuslq{height:2rem}.w-full.svelte-1mtuslq.svelte-1mtuslq{width:100%}.w-8.svelte-1mtuslq.svelte-1mtuslq{width:2rem}.max-w-\\[500px\\].svelte-1mtuslq.svelte-1mtuslq{max-width:500px}@keyframes svelte-1mtuslq-spin{to{transform:rotate(360deg)}}.animate-spin.svelte-1mtuslq.svelte-1mtuslq{animation:svelte-1mtuslq-spin 1s linear infinite}.cursor-pointer.svelte-1mtuslq.svelte-1mtuslq{cursor:pointer}.flex-col.svelte-1mtuslq.svelte-1mtuslq{flex-direction:column}.items-center.svelte-1mtuslq.svelte-1mtuslq{align-items:center}.justify-center.svelte-1mtuslq.svelte-1mtuslq{justify-content:center}.justify-between.svelte-1mtuslq.svelte-1mtuslq{justify-content:space-between}.gap-3.svelte-1mtuslq.svelte-1mtuslq{gap:0.75rem}.rounded-md.svelte-1mtuslq.svelte-1mtuslq{border-radius:0.375rem}.rounded-full.svelte-1mtuslq.svelte-1mtuslq{border-radius:9999px}.bg-black\\/25.svelte-1mtuslq.svelte-1mtuslq{background-color:rgb(0 0 0 / 0.25)}.bg-slate-50.svelte-1mtuslq.svelte-1mtuslq{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity))}.bg-slate-100.svelte-1mtuslq.svelte-1mtuslq{--tw-bg-opacity:1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.fill-neutral-600.svelte-1mtuslq.svelte-1mtuslq{fill:#525252}.p-4.svelte-1mtuslq.svelte-1mtuslq{padding:1rem}.p-3.svelte-1mtuslq.svelte-1mtuslq{padding:0.75rem}.text-center.svelte-1mtuslq.svelte-1mtuslq{text-align:center}.text-xl.svelte-1mtuslq.svelte-1mtuslq{font-size:1.25rem;line-height:1.75rem}.text-neutral-300.svelte-1mtuslq.svelte-1mtuslq{--tw-text-opacity:1;color:rgb(212 212 212 / var(--tw-text-opacity))}.antialiased.svelte-1mtuslq.svelte-1mtuslq{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.shadow.svelte-1mtuslq.svelte-1mtuslq{--tw-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm.svelte-1mtuslq.svelte-1mtuslq{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.filter.svelte-1mtuslq.svelte-1mtuslq{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm.svelte-1mtuslq.svelte-1mtuslq{--tw-backdrop-blur:blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-colors.svelte-1mtuslq.svelte-1mtuslq{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.svelte-1mtuslq.svelte-1mtuslq,.svelte-1mtuslq.svelte-1mtuslq::before,.svelte-1mtuslq.svelte-1mtuslq::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}.svelte-1mtuslq.svelte-1mtuslq::before,.svelte-1mtuslq.svelte-1mtuslq::after{--tw-content:''}h1.svelte-1mtuslq.svelte-1mtuslq{font-size:inherit;font-weight:inherit}a.svelte-1mtuslq.svelte-1mtuslq{color:inherit;text-decoration:inherit}.svelte-1mtuslq.svelte-1mtuslq:-moz-focusring{outline:auto}.svelte-1mtuslq.svelte-1mtuslq:-moz-ui-invalid{box-shadow:none}.svelte-1mtuslq.svelte-1mtuslq::-webkit-inner-spin-button,.svelte-1mtuslq.svelte-1mtuslq::-webkit-outer-spin-button{height:auto}.svelte-1mtuslq.svelte-1mtuslq::-webkit-search-decoration{-webkit-appearance:none}.svelte-1mtuslq.svelte-1mtuslq::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h1.svelte-1mtuslq.svelte-1mtuslq{margin:0}ul.svelte-1mtuslq.svelte-1mtuslq{list-style:none;margin:0;padding:0}[role="button"].svelte-1mtuslq.svelte-1mtuslq{cursor:pointer}.svelte-1mtuslq.svelte-1mtuslq:disabled{cursor:default}img.svelte-1mtuslq.svelte-1mtuslq,svg.svelte-1mtuslq.svelte-1mtuslq{display:block;vertical-align:middle}img.svelte-1mtuslq.svelte-1mtuslq{max-width:100%;height:auto}.svelte-1mtuslq.svelte-1mtuslq,.svelte-1mtuslq.svelte-1mtuslq::before,.svelte-1mtuslq.svelte-1mtuslq::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x:  ;--tw-pan-y:  ;--tw-pinch-zoom:  ;--tw-scroll-snap-strictness:proximity;--tw-ordinal:  ;--tw-slashed-zero:  ;--tw-numeric-figure:  ;--tw-numeric-spacing:  ;--tw-numeric-fraction:  ;--tw-ring-inset:  ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur:  ;--tw-brightness:  ;--tw-contrast:  ;--tw-grayscale:  ;--tw-hue-rotate:  ;--tw-invert:  ;--tw-saturate:  ;--tw-sepia:  ;--tw-drop-shadow:  ;--tw-backdrop-blur:  ;--tw-backdrop-brightness:  ;--tw-backdrop-contrast:  ;--tw-backdrop-grayscale:  ;--tw-backdrop-hue-rotate:  ;--tw-backdrop-invert:  ;--tw-backdrop-opacity:  ;--tw-backdrop-saturate:  ;--tw-backdrop-sepia:  }.svelte-1mtuslq.svelte-1mtuslq::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x:  ;--tw-pan-y:  ;--tw-pinch-zoom:  ;--tw-scroll-snap-strictness:proximity;--tw-ordinal:  ;--tw-slashed-zero:  ;--tw-numeric-figure:  ;--tw-numeric-spacing:  ;--tw-numeric-fraction:  ;--tw-ring-inset:  ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur:  ;--tw-brightness:  ;--tw-contrast:  ;--tw-grayscale:  ;--tw-hue-rotate:  ;--tw-invert:  ;--tw-saturate:  ;--tw-sepia:  ;--tw-drop-shadow:  ;--tw-backdrop-blur:  ;--tw-backdrop-brightness:  ;--tw-backdrop-contrast:  ;--tw-backdrop-grayscale:  ;--tw-backdrop-hue-rotate:  ;--tw-backdrop-invert:  ;--tw-backdrop-opacity:  ;--tw-backdrop-saturate:  ;--tw-backdrop-sepia:  }.svelte-1mtuslq.svelte-1mtuslq{font-family:Nunito, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto,
      Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue,
      sans-serif;-webkit-font-smoothing:antialiased}.hover\\:bg-slate-200.svelte-1mtuslq.svelte-1mtuslq:hover{--tw-bg-opacity:1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}.dark.svelte-1mtuslq .dark\\:border-neutral-600.svelte-1mtuslq{--tw-border-opacity:1;border-color:rgb(82 82 82 / var(--tw-border-opacity))}.dark.svelte-1mtuslq .dark\\:bg-neutral-900.svelte-1mtuslq{--tw-bg-opacity:1;background-color:rgb(23 23 23 / var(--tw-bg-opacity))}.dark.svelte-1mtuslq .dark\\:bg-neutral-800.svelte-1mtuslq{--tw-bg-opacity:1;background-color:rgb(38 38 38 / var(--tw-bg-opacity))}.dark.svelte-1mtuslq .dark\\:fill-neutral-300.svelte-1mtuslq{fill:#d4d4d4}.dark.svelte-1mtuslq .dark\\:text-white.svelte-1mtuslq{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity))}.dark.svelte-1mtuslq .dark\\:text-neutral-600.svelte-1mtuslq{--tw-text-opacity:1;color:rgb(82 82 82 / var(--tw-text-opacity))}.dark.svelte-1mtuslq .dark\\:hover\\:bg-neutral-700.svelte-1mtuslq:hover{--tw-bg-opacity:1;background-color:rgb(64 64 64 / var(--tw-bg-opacity))}`)}function Ve(r,e,t){const s=r.slice();return s[20]=e[t],s}function He(r,e,t){const s=r.slice();return s[23]=e[t],s}function Yt(r){let e,t;return{c(){e=L("img"),b(e,"alt",r[23].name),Pe(e.src,t=r[23].icon)||b(e,"src",t),b(e,"class","w-8 h-8 rounded-full svelte-1mtuslq")},m(s,i){oe(s,e,i)},p:Z,d(s){s&&X(e)}}}function Gt(r){let e;return{c(){e=L("div"),e.innerHTML=`<svg aria-hidden="true" class="w-8 h-8 text-neutral-300 animate-spin dark:text-neutral-600 fill-neutral-600 dark:fill-neutral-300 svelte-1mtuslq" viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor" class="svelte-1mtuslq"></path><path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="currentFill" class="svelte-1mtuslq"></path></svg> 
              <span class="sr-only svelte-1mtuslq">Loading...</span>`,b(e,"role","status"),b(e,"class","svelte-1mtuslq")},m(t,s){oe(t,e,s)},p:Z,d(t){t&&X(e)}}}function $e(r){let e,t=r[23].name+"",s,i,n,o;function l(w,C){return w[1]===w[23].id?Gt:Yt}let c=l(r),u=c(r);function m(){return r[12](r[23])}function d(...w){return r[13](r[23],...w)}return{c(){e=L("li"),s=pe(t),i=K(),u.c(),b(e,"class","flex justify-between items-center p-3 bg-slate-100 rounded-md cursor-pointer shadow-sm hover:bg-slate-200 transition-colors dark:bg-neutral-800 dark:hover:bg-neutral-700 dark:border-neutral-600 dark:text-white svelte-1mtuslq")},m(w,C){oe(w,e,C),x(e,s),x(e,i),u.m(e,null),n||(o=[T(e,"click",m),T(e,"keyup",d)],n=!0)},p(w,C){r=w,c===(c=l(r))&&u?u.p(r,C):(u.d(1),u=c(r),u&&(u.c(),u.m(e,null)))},d(w){w&&X(e),u.d(),n=!1,G(o)}}}function Ke(r){let e,t,s,i=r[20].name+"",n,o,l,c,u,m,d,w,C,N;return{c(){e=L("a"),t=L("li"),s=pe("Install "),n=pe(i),o=K(),l=L("img"),m=K(),b(l,"alt",c=r[20].name),Pe(l.src,u=r[20].icon)||b(l,"src",u),b(l,"class","w-8 h-8 rounded-full svelte-1mtuslq"),b(t,"class","flex justify-between items-center p-3 bg-slate-100 rounded-md shadow-sm cursor-pointer hover:bg-slate-200 transition-colors dark:bg-neutral-800 dark:hover:bg-neutral-700 dark:border-neutral-600 dark:text-white svelte-1mtuslq"),b(e,"alt",d=r[20].name+" download link"),b(e,"href",w=r[20].download),b(e,"target","_blank"),b(e,"rel","noopener noreferrer"),b(e,"class","svelte-1mtuslq")},m(k,A){oe(k,e,A),x(e,t),x(t,s),x(t,n),x(t,o),x(t,l),x(e,m),C||(N=[T(t,"click",r[14]),T(t,"keyup",r[15])],C=!0)},p(k,A){A&1&&i!==(i=k[20].name+"")&&Dt(n,i),A&1&&c!==(c=k[20].name)&&b(l,"alt",c),A&1&&!Pe(l.src,u=k[20].icon)&&b(l,"src",u),A&1&&d!==(d=k[20].name+" download link")&&b(e,"alt",d),A&1&&w!==(w=k[20].download)&&b(e,"href",w)},d(k){k&&X(e),C=!1,G(N)}}}function Qt(r){let e,t,s,i,n,o,l,c,u,m,d,w,C=r[4],N=[];for(let M=0;M<C.length;M+=1)N[M]=$e(He(r,C,M));let k=r[0],A=[];for(let M=0;M<k.length;M+=1)A[M]=Ke(Ve(r,k,M));return{c(){e=L("div"),t=L("main"),s=L("header"),i=L("h1"),i.textContent="Connect a wallet",n=K(),o=L("span"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" width="24px" viewBox="0 0 24 24" fill="currentColor" class="svelte-1mtuslq"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z" class="svelte-1mtuslq"></path></svg>',l=K(),c=L("ul");for(let M=0;M<N.length;M+=1)N[M].c();u=K();for(let M=0;M<A.length;M+=1)A[M].c();b(i,"class","text-xl svelte-1mtuslq"),b(o,"role","button"),b(o,"alt","Close"),b(o,"class","cursor-pointer svelte-1mtuslq"),b(s,"class","flex items-center justify-between mb-4 svelte-1mtuslq"),b(c,"class","flex flex-col gap-3 svelte-1mtuslq"),b(t,"role","dialog"),b(t,"class",Ae("bg-slate-50 rounded-md shadow w-full max-w-[500px] mx-6 p-4 text-center z-50 dark:bg-neutral-900 dark:text-white")+" svelte-1mtuslq"),b(e,"class",m=Ae("backdrop-blur-sm fixed inset-0 flex items-center justify-center bg-black/25 z-40 "+r[2])+" svelte-1mtuslq")},m(M,_){oe(M,e,_),x(e,t),x(t,s),x(s,i),x(s,n),x(s,o),x(t,l),x(t,c);for(let f=0;f<N.length;f+=1)N[f].m(c,null);x(c,u);for(let f=0;f<A.length;f+=1)A[f].m(c,null);d||(w=[T(o,"click",r[10]),T(o,"keyup",r[11]),T(t,"click",Vt),T(t,"keyup",Ht),T(e,"click",r[16]),T(e,"keyup",r[17])],d=!0)},p(M,[_]){if(_&26){C=M[4];let f;for(f=0;f<C.length;f+=1){const F=He(M,C,f);N[f]?N[f].p(F,_):(N[f]=$e(F),N[f].c(),N[f].m(c,u))}for(;f<N.length;f+=1)N[f].d(1);N.length=C.length}if(_&9){k=M[0];let f;for(f=0;f<k.length;f+=1){const F=Ve(M,k,f);A[f]?A[f].p(F,_):(A[f]=Ke(F),A[f].c(),A[f].m(c,null))}for(;f<A.length;f+=1)A[f].d(1);A.length=k.length}_&4&&m!==(m=Ae("backdrop-blur-sm fixed inset-0 flex items-center justify-center bg-black/25 z-40 "+M[2])+" svelte-1mtuslq")&&b(e,"class",m)},i:Z,o:Z,d(M){M&&X(e),Ye(N,M),Ye(A,M),d=!1,G(w)}}}const Vt=r=>r.stopPropagation(),Ht=r=>r.stopPropagation();function $t(r,e,t){const s=typeof window<"u"?window:null;let{lastWallet:i=null}=e,{installedWallets:n=[]}=e,{preAuthorizedWallets:o=[]}=e,{discoveryWallets:l=[]}=e,{callback:c=async()=>{}}=e,{theme:u=null}=e,m=!1,d=async y=>{var ae;t(1,m=(ae=y==null?void 0:y.id)!=null?ae:!1),await c(y).catch(()=>{}),t(1,m=!1)},w="";u==="dark"||u===null&&(s!=null&&s.matchMedia("(prefers-color-scheme: dark)").matches)?w="dark":w="";const C=y=>{t(2,w=y.matches?"dark":"")};Lt(()=>{if(u===null)return s==null||s.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",C),()=>{s==null||s.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",C)}});const N=[i,...o,...n].filter(Boolean),k=()=>d(null),A=y=>{y.key==="Enter"&&d(null)},M=y=>d(y),_=(y,ae)=>{ae.key==="Enter"&&d(y)},f=()=>d(null),F=y=>{y.key==="Enter"&&d(null)},ct=()=>d(null),ut=y=>{y.key==="Escape"&&d(null)};return r.$$set=y=>{"lastWallet"in y&&t(5,i=y.lastWallet),"installedWallets"in y&&t(6,n=y.installedWallets),"preAuthorizedWallets"in y&&t(7,o=y.preAuthorizedWallets),"discoveryWallets"in y&&t(0,l=y.discoveryWallets),"callback"in y&&t(8,c=y.callback),"theme"in y&&t(9,u=y.theme)},[l,m,w,d,N,i,n,o,c,u,k,A,M,_,f,F,ct,ut]}class Kt extends Ft{constructor(e){super(),Ut(this,e,$t,Qt,Nt,{lastWallet:5,installedWallets:6,preAuthorizedWallets:7,discoveryWallets:0,callback:8,theme:9},Bt)}}function Ce(r,e){return r.filter(t=>!e.some(s=>s.id===t.id))}async function Zt({discoveryWallets:r,installedWallets:e,lastWallet:t,preAuthorizedWallets:s,enable:i,modalOptions:n}){return new Promise(o=>{var l;const c=[t].filter(Boolean);s=Ce(s,c),e=Ce(e,[...c,...s]),r=Ce(r,[...c,...e,...s]);const u=new Kt({target:document.body,props:{callback:async m=>{var d;const w=(d=await(i==null?void 0:i(m)))!=null?d:m;u.$destroy(),o(w)},lastWallet:t,installedWallets:e,preAuthorizedWallets:s,discoveryWallets:r,theme:(n==null?void 0:n.theme)==="system"?null:(l=n==null?void 0:n.theme)!=null?l:null}})})}const Xt={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},at={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},S={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},D={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},W={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class a{static getFirstMatch(e,t){const s=t.match(e);return s&&s.length>0&&s[1]||""}static getSecondMatch(e,t){const s=t.match(e);return s&&s.length>1&&s[2]||""}static matchAndReturnConst(e,t,s){if(e.test(t))return s}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(t.push(0),t[0]===10)switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(t.push(0),!(t[0]===1&&t[1]<5)){if(t[0]===1&&t[1]<6)return"Cupcake";if(t[0]===1&&t[1]>=6)return"Donut";if(t[0]===2&&t[1]<2)return"Eclair";if(t[0]===2&&t[1]===2)return"Froyo";if(t[0]===2&&t[1]>2)return"Gingerbread";if(t[0]===3)return"Honeycomb";if(t[0]===4&&t[1]<1)return"Ice Cream Sandwich";if(t[0]===4&&t[1]<4)return"Jelly Bean";if(t[0]===4&&t[1]>=4)return"KitKat";if(t[0]===5)return"Lollipop";if(t[0]===6)return"Marshmallow";if(t[0]===7)return"Nougat";if(t[0]===8)return"Oreo";if(t[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,s=!1){const i=a.getVersionPrecision(e),n=a.getVersionPrecision(t);let o=Math.max(i,n),l=0;const c=a.map([e,t],u=>{const m=o-a.getVersionPrecision(u),d=u+new Array(m+1).join(".0");return a.map(d.split("."),w=>new Array(20-w.length).join("0")+w).reverse()});for(s&&(l=o-Math.min(i,n)),o-=1;o>=l;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===l)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(e,t){const s=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(i=0;i<e.length;i+=1)s.push(t(e[i]));return s}static find(e,t){let s,i;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(s=0,i=e.length;s<i;s+=1){const n=e[s];if(t(n,s))return n}}static assign(e,...t){const s=e;let i,n;if(Object.assign)return Object.assign(e,...t);for(i=0,n=t.length;i<n;i+=1){const o=t[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{s[l]=o[l]})}return e}static getBrowserAlias(e){return Xt[e]}static getBrowserTypeByAlias(e){return at[e]||""}}const I=/version\/(\d+(\.?_?\d+)+)/i,Jt=[{test:[/googlebot/i],describe(r){const e={name:"Googlebot"},t=a.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,r)||a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/opera/i],describe(r){const e={name:"Opera"},t=a.getFirstMatch(I,r)||a.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/opr\/|opios/i],describe(r){const e={name:"Opera"},t=a.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,r)||a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/SamsungBrowser/i],describe(r){const e={name:"Samsung Internet for Android"},t=a.getFirstMatch(I,r)||a.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/Whale/i],describe(r){const e={name:"NAVER Whale Browser"},t=a.getFirstMatch(I,r)||a.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/MZBrowser/i],describe(r){const e={name:"MZ Browser"},t=a.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,r)||a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/focus/i],describe(r){const e={name:"Focus"},t=a.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,r)||a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/swing/i],describe(r){const e={name:"Swing"},t=a.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,r)||a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/coast/i],describe(r){const e={name:"Opera Coast"},t=a.getFirstMatch(I,r)||a.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(r){const e={name:"Opera Touch"},t=a.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,r)||a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/yabrowser/i],describe(r){const e={name:"Yandex Browser"},t=a.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,r)||a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/ucbrowser/i],describe(r){const e={name:"UC Browser"},t=a.getFirstMatch(I,r)||a.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/Maxthon|mxios/i],describe(r){const e={name:"Maxthon"},t=a.getFirstMatch(I,r)||a.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/epiphany/i],describe(r){const e={name:"Epiphany"},t=a.getFirstMatch(I,r)||a.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/puffin/i],describe(r){const e={name:"Puffin"},t=a.getFirstMatch(I,r)||a.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/sleipnir/i],describe(r){const e={name:"Sleipnir"},t=a.getFirstMatch(I,r)||a.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/k-meleon/i],describe(r){const e={name:"K-Meleon"},t=a.getFirstMatch(I,r)||a.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/micromessenger/i],describe(r){const e={name:"WeChat"},t=a.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,r)||a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/qqbrowser/i],describe(r){const e={name:/qqbrowserlite/i.test(r)?"QQ Browser Lite":"QQ Browser"},t=a.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,r)||a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/msie|trident/i],describe(r){const e={name:"Internet Explorer"},t=a.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/\sedg\//i],describe(r){const e={name:"Microsoft Edge"},t=a.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/edg([ea]|ios)/i],describe(r){const e={name:"Microsoft Edge"},t=a.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/vivaldi/i],describe(r){const e={name:"Vivaldi"},t=a.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/seamonkey/i],describe(r){const e={name:"SeaMonkey"},t=a.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/sailfish/i],describe(r){const e={name:"Sailfish"},t=a.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,r);return t&&(e.version=t),e}},{test:[/silk/i],describe(r){const e={name:"Amazon Silk"},t=a.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/phantom/i],describe(r){const e={name:"PhantomJS"},t=a.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/slimerjs/i],describe(r){const e={name:"SlimerJS"},t=a.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const e={name:"BlackBerry"},t=a.getFirstMatch(I,r)||a.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/(web|hpw)[o0]s/i],describe(r){const e={name:"WebOS Browser"},t=a.getFirstMatch(I,r)||a.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/bada/i],describe(r){const e={name:"Bada"},t=a.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/tizen/i],describe(r){const e={name:"Tizen"},t=a.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,r)||a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/qupzilla/i],describe(r){const e={name:"QupZilla"},t=a.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,r)||a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/firefox|iceweasel|fxios/i],describe(r){const e={name:"Firefox"},t=a.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/electron/i],describe(r){const e={name:"Electron"},t=a.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/MiuiBrowser/i],describe(r){const e={name:"Miui"},t=a.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/chromium/i],describe(r){const e={name:"Chromium"},t=a.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,r)||a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/chrome|crios|crmo/i],describe(r){const e={name:"Chrome"},t=a.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/GSA/i],describe(r){const e={name:"Google Search"},t=a.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){const e=!r.test(/like android/i),t=r.test(/android/i);return e&&t},describe(r){const e={name:"Android Browser"},t=a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/playstation 4/i],describe(r){const e={name:"PlayStation 4"},t=a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/safari|applewebkit/i],describe(r){const e={name:"Safari"},t=a.getFirstMatch(I,r);return t&&(e.version=t),e}},{test:[/.*/i],describe(r){const e=/^(.*)\/(.*) /,t=/^(.*)\/(.*)[ \t]\((.*)/,s=r.search("\\(")!==-1?t:e;return{name:a.getFirstMatch(s,r),version:a.getSecondMatch(s,r)}}}],er=[{test:[/Roku\/DVP/],describe(r){const e=a.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,r);return{name:D.Roku,version:e}}},{test:[/windows phone/i],describe(r){const e=a.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,r);return{name:D.WindowsPhone,version:e}}},{test:[/windows /i],describe(r){const e=a.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,r),t=a.getWindowsVersionName(e);return{name:D.Windows,version:e,versionName:t}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(r){const e={name:D.iOS},t=a.getSecondMatch(/(Version\/)(\d[\d.]+)/,r);return t&&(e.version=t),e}},{test:[/macintosh/i],describe(r){const e=a.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,r).replace(/[_\s]/g,"."),t=a.getMacOSVersionName(e),s={name:D.MacOS,version:e};return t&&(s.versionName=t),s}},{test:[/(ipod|iphone|ipad)/i],describe(r){const e=a.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,r).replace(/[_\s]/g,".");return{name:D.iOS,version:e}}},{test(r){const e=!r.test(/like android/i),t=r.test(/android/i);return e&&t},describe(r){const e=a.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,r),t=a.getAndroidVersionName(e),s={name:D.Android,version:e};return t&&(s.versionName=t),s}},{test:[/(web|hpw)[o0]s/i],describe(r){const e=a.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,r),t={name:D.WebOS};return e&&e.length&&(t.version=e),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const e=a.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,r)||a.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,r)||a.getFirstMatch(/\bbb(\d+)/i,r);return{name:D.BlackBerry,version:e}}},{test:[/bada/i],describe(r){const e=a.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,r);return{name:D.Bada,version:e}}},{test:[/tizen/i],describe(r){const e=a.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,r);return{name:D.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:D.Linux}}},{test:[/CrOS/],describe(){return{name:D.ChromeOS}}},{test:[/PlayStation 4/],describe(r){const e=a.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,r);return{name:D.PlayStation4,version:e}}}],tr=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(r){const e=a.getFirstMatch(/(can-l01)/i,r)&&"Nova",t={type:S.mobile,vendor:"Huawei"};return e&&(t.model=e),t}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:S.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:S.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:S.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:S.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:S.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:S.tablet}}},{test(r){const e=r.test(/ipod|iphone/i),t=r.test(/like (ipod|iphone)/i);return e&&!t},describe(r){const e=a.getFirstMatch(/(ipod|iphone)/i,r);return{type:S.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:S.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:S.mobile}}},{test(r){return r.getBrowserName(!0)==="blackberry"},describe(){return{type:S.mobile,vendor:"BlackBerry"}}},{test(r){return r.getBrowserName(!0)==="bada"},describe(){return{type:S.mobile}}},{test(r){return r.getBrowserName()==="windows phone"},describe(){return{type:S.mobile,vendor:"Microsoft"}}},{test(r){const e=Number(String(r.getOSVersion()).split(".")[0]);return r.getOSName(!0)==="android"&&e>=3},describe(){return{type:S.tablet}}},{test(r){return r.getOSName(!0)==="android"},describe(){return{type:S.mobile}}},{test(r){return r.getOSName(!0)==="macos"},describe(){return{type:S.desktop,vendor:"Apple"}}},{test(r){return r.getOSName(!0)==="windows"},describe(){return{type:S.desktop}}},{test(r){return r.getOSName(!0)==="linux"},describe(){return{type:S.desktop}}},{test(r){return r.getOSName(!0)==="playstation 4"},describe(){return{type:S.tv}}},{test(r){return r.getOSName(!0)==="roku"},describe(){return{type:S.tv}}}],rr=[{test(r){return r.getBrowserName(!0)==="microsoft edge"},describe(r){if(/\sedg\//i.test(r))return{name:W.Blink};const e=a.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,r);return{name:W.EdgeHTML,version:e}}},{test:[/trident/i],describe(r){const e={name:W.Trident},t=a.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){return r.test(/presto/i)},describe(r){const e={name:W.Presto},t=a.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){const e=r.test(/gecko/i),t=r.test(/like gecko/i);return e&&!t},describe(r){const e={name:W.Gecko},t=a.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:W.Blink}}},{test:[/(apple)?webkit/i],describe(r){const e={name:W.WebKit},t=a.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}}];class Ze{constructor(e,t=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},t!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=a.find(Jt,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=a.find(er,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=a.find(tr,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=a.find(rr,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return a.assign({},this.parsedResult)}satisfies(e){const t={};let s=0;const i={};let n=0;if(Object.keys(e).forEach(o=>{const l=e[o];typeof l=="string"?(i[o]=l,n+=1):typeof l=="object"&&(t[o]=l,s+=1)}),s>0){const o=Object.keys(t),l=a.find(o,u=>this.isOS(u));if(l){const u=this.satisfies(t[l]);if(u!==void 0)return u}const c=a.find(o,u=>this.isPlatform(u));if(c){const u=this.satisfies(t[c]);if(u!==void 0)return u}}if(n>0){const o=Object.keys(i),l=a.find(o,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(i[l])}}isBrowser(e,t=!1){const s=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const n=a.getBrowserTypeByAlias(i);return t&&n&&(i=n.toLowerCase()),i===s}compareVersion(e){let t=[0],s=e,i=!1;const n=this.getBrowserVersion();if(typeof n=="string")return e[0]===">"||e[0]==="<"?(s=e.substr(1),e[1]==="="?(i=!0,s=e.substr(2)):t=[],e[0]===">"?t.push(1):t.push(-1)):e[0]==="="?s=e.substr(1):e[0]==="~"&&(i=!0,s=e.substr(1)),t.indexOf(a.compareVersions(n,s,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(t=>this.is(t))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class sr{static getParser(e,t=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new Ze(e,t)}static parse(e){return new Ze(e).getResult()}static get BROWSER_MAP(){return at}static get ENGINE_MAP(){return W}static get OS_MAP(){return D}static get PLATFORMS_MAP(){return S}}var nr=Object.defineProperty,ir=(r,e,t)=>e in r?nr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,or=(r,e,t)=>(ir(r,typeof e!="symbol"?e+"":e,t),t),Re=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},z=(r,e,t)=>(Re(r,e,"read from private field"),t?t.call(r):e.get(r)),J=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},be=(r,e,t,s)=>(Re(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t),he=(r,e,t)=>(Re(r,e,"access private method"),t);const ar=[{id:"argentX",name:"Argent X",icon:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjQwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgNDAgMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNC43NTgyIC0zLjk3MzY0ZS0wN0gxNC42MjM4QzE0LjI4NTEgLTMuOTczNjRlLTA3IDE0LjAxMzggMC4yODExNzggMTQuMDA2NCAwLjYzMDY4M0MxMy44MDE3IDEwLjQ1NDkgOC44MjIzNCAxOS43NzkyIDAuMjUxODkzIDI2LjM4MzdDLTAuMDIwMjA0NiAyNi41OTMzIC0wLjA4MjE5NDYgMjYuOTg3MiAwLjExNjczNCAyNy4yNzA5TDYuMDQ2MjMgMzUuNzM0QzYuMjQ3OTYgMzYuMDIyIDYuNjQwOTkgMzYuMDg3IDYuOTE3NjYgMzUuODc1NEMxMi4yNzY1IDMxLjc3MjggMTYuNTg2OSAyNi44MjM2IDE5LjY5MSAyMS4zMzhDMjIuNzk1MSAyNi44MjM2IDI3LjEwNTcgMzEuNzcyOCAzMi40NjQ2IDM1Ljg3NTRDMzIuNzQxIDM2LjA4NyAzMy4xMzQxIDM2LjAyMiAzMy4zMzYxIDM1LjczNEwzOS4yNjU2IDI3LjI3MDlDMzkuNDY0MiAyNi45ODcyIDM5LjQwMjIgMjYuNTkzMyAzOS4xMzA0IDI2LjM4MzdDMzAuNTU5NyAxOS43NzkyIDI1LjU4MDQgMTAuNDU0OSAyNS4zNzU5IDAuNjMwNjgzQzI1LjM2ODUgMC4yODExNzggMjUuMDk2OSAtMy45NzM2NGUtMDcgMjQuNzU4MiAtMy45NzM2NGUtMDdaIiBmaWxsPSIjRkY4NzVCIi8+Cjwvc3ZnPgo=",downloads:{chrome:"https://chrome.google.com/webstore/detail/argent-x-starknet-wallet/dlcobpjiigpikoobohmabehhmhfoodbb",firefox:"https://addons.mozilla.org/en-US/firefox/addon/argent-x"}},{id:"braavos",name:"Braavos",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aAogICAgICAgIGQ9Ik02Mi43MDUgMTMuOTExNkM2Mi44MzU5IDE0LjEzMzMgNjIuNjYyMSAxNC40MDcgNjIuNDAzOSAxNC40MDdDNTcuMTgwNyAxNC40MDcgNTIuOTM0OCAxOC41NDI3IDUyLjgzNTEgMjMuNjgxN0M1MS4wNDY1IDIzLjM0NzcgNDkuMTkzMyAyMy4zMjI2IDQ3LjM2MjYgMjMuNjMxMUM0Ny4yMzYxIDE4LjUxNTYgNDMuMDAwOSAxNC40MDcgMzcuNzk0OCAxNC40MDdDMzcuNTM2NSAxNC40MDcgMzcuMzYyNSAxNC4xMzMxIDM3LjQ5MzUgMTMuOTExMkM0MC4wMjE3IDkuNjI4MDkgNDQuNzIwNCA2Ljc1IDUwLjA5OTEgNi43NUM1NS40NzgxIDYuNzUgNjAuMTc2OSA5LjYyODI2IDYyLjcwNSAxMy45MTE2WiIKICAgICAgICBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMzcyXzQwMjU5KSIgLz4KICAgIDxwYXRoCiAgICAgICAgZD0iTTc4Ljc2MDYgNDUuODcxOEM4MC4yNzI1IDQ2LjMyOTcgODEuNzAyNSA0NS4wMDU1IDgxLjE3MTQgNDMuNTIyMkM3Ni40MTM3IDMwLjIzMzQgNjEuMzkxMSAyNC44MDM5IDUwLjAyNzcgMjQuODAzOUMzOC42NDQyIDI0LjgwMzkgMjMuMjg2OCAzMC40MDcgMTguODc1NCA0My41OTEyQzE4LjM4MjQgNDUuMDY0NSAxOS44MDgzIDQ2LjM0NDYgMjEuMjk3OCA0NS44ODgxTDQ4Ljg3MiAzNy40MzgxQzQ5LjUzMzEgMzcuMjM1NSA1MC4yMzk5IDM3LjIzNDQgNTAuOTAxNyAzNy40MzQ4TDc4Ljc2MDYgNDUuODcxOFoiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8cGF0aAogICAgICAgIGQ9Ik0xOC44MTMyIDQ4LjE3MDdMNDguODkzNSAzOS4wNDcyQzQ5LjU1MDYgMzguODQ3OCA1MC4yNTI0IDM4Ljg0NzMgNTAuOTA5OCAzOS4wNDU2TDgxLjE3ODEgNDguMTc1MkM4My42OTEyIDQ4LjkzMzIgODUuNDExIDUxLjI0ODMgODUuNDExIDUzLjg3MzVWODEuMjIzM0M4NS4yOTQ0IDg3Ljg5OTEgNzkuMjk3NyA5My4yNSA3Mi42MjQ1IDkzLjI1SDYxLjU0MDZDNjAuNDQ0OSA5My4yNSA1OS41NTc3IDkyLjM2MzcgNTkuNTU3NyA5MS4yNjhWODEuNjc4OUM1OS41NTc3IDc3LjkwMzEgNjEuNzkyMSA3NC40ODU1IDY1LjI0OTggNzIuOTcyOUM2OS44ODQ5IDcwLjk0NTQgNzUuMzY4MSA2OC4yMDI4IDc2LjM5OTQgNjIuNjk5MkM3Ni43MzIzIDYwLjkyMjkgNzUuNTc0MSA1OS4yMDk0IDczLjgwMjQgNTguODU3M0M2OS4zMjI2IDU3Ljk2NjcgNjQuMzU2MiA1OC4zMTA3IDYwLjE1NjQgNjAuMTg5M0M1NS4zODg3IDYyLjMyMTkgNTQuMTQxNSA2NS44Njk0IDUzLjY3OTcgNzAuNjMzN0w1My4xMjAxIDc1Ljc2NjJDNTIuOTQ5MSA3Ny4zMzQ5IDUxLjQ3ODUgNzguNTM2NiA0OS45MDE0IDc4LjUzNjZDNDguMjY5OSA3OC41MzY2IDQ3LjA0NjUgNzcuMjk0IDQ2Ljg2OTYgNzUuNjcxMkw0Ni4zMjA0IDcwLjYzMzdDNDUuOTI0OSA2Ni41NTI5IDQ1LjIwNzkgNjIuNTg4NyA0MC45ODk1IDYwLjcwMThDMzYuMTc3NiA1OC41NDk0IDMxLjM0MTkgNTcuODM0NyAyNi4xOTc2IDU4Ljg1NzNDMjQuNDI2IDU5LjIwOTQgMjMuMjY3OCA2MC45MjI5IDIzLjYwMDcgNjIuNjk5MkMyNC42NDEgNjguMjUwNyAzMC4wODEyIDcwLjkzMDUgMzQuNzUwMyA3Mi45NzI5QzM4LjIwOCA3NC40ODU1IDQwLjQ0MjQgNzcuOTAzMSA0MC40NDI0IDgxLjY3ODlWOTEuMjY2M0M0MC40NDI0IDkyLjM2MiAzOS41NTU1IDkzLjI1IDM4LjQ1OTkgOTMuMjVIMjcuMzc1NkMyMC43MDI0IDkzLjI1IDE0LjcwNTcgODcuODk5MSAxNC41ODkxIDgxLjIyMzNWNTMuODY2M0MxNC41ODkxIDUxLjI0NDYgMTYuMzA0NSA0OC45MzE2IDE4LjgxMzIgNDguMTcwN1oiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDJfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMzcyXzQwMjU5IiB4MT0iNDkuMzA1NyIgeTE9IjIuMDc5IiB4Mj0iODAuMzYyNyIgeTI9IjkzLjY1OTciCiAgICAgICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIgLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRkY5NjAwIiAvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3Ml80MDI1OSIgeDE9IjQ5LjMwNTciIHkxPSIyLjA3OSIgeDI9IjgwLjM2MjciIHkyPSI5My42NTk3IgogICAgICAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNUQ0NUUiIC8+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGOTYwMCIgLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl8zNzJfNDAyNTkiIHgxPSI0OS4zMDU3IiB5MT0iMi4wNzkiIHgyPSI4MC4zNjI3IiB5Mj0iOTMuNjU5NyIKICAgICAgICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjVENDVFIiAvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiIC8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KPC9zdmc+",downloads:{chrome:"https://chrome.google.com/webstore/detail/braavos-wallet/jnlgamecbpmbajjfhmmmlhejkemejdma",firefox:"https://addons.mozilla.org/en-US/firefox/addon/braavos-wallet",edge:"https://microsoftedge.microsoft.com/addons/detail/braavos-wallet/hkkpjehhcnhgefhbdcgfkeegglpjchdc"}}],lr=()=>`${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Xe=r=>{for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[r[e],r[t]]=[r[t],r[e]]}return r};function Se(...r){return e=>r.reduce((t,s)=>t.then(s),Promise.resolve(e))}var B,q,ne,Te,lt,te,we;class cr{constructor(e){J(this,Te),J(this,te),J(this,B,!1),J(this,q,void 0),J(this,ne,void 0),or(this,"value"),be(this,ne,e),he(this,te,we).call(this)}set(e){return!z(this,B)&&!he(this,te,we).call(this)?!1:(this.delete(),this.value=e,e&&(be(this,q,`${z(this,ne)}-${lr()}`),localStorage.setItem(z(this,q),e)),!0)}get(){return he(this,Te,lt).call(this),this.value}delete(){return!z(this,B)&&!he(this,te,we).call(this)?!1:(this.value=null,z(this,q)&&localStorage.removeItem(z(this,q)),!0)}}B=new WeakMap,q=new WeakMap,ne=new WeakMap,Te=new WeakSet,lt=function(){this.value&&this.set(this.value)},te=new WeakSet,we=function(){try{!z(this,B)&&typeof window<"u"&&(be(this,q,Object.keys(localStorage).find(r=>r.startsWith(z(this,ne)))),be(this,B,!0),z(this,q)&&this.set(localStorage.getItem(z(this,q))))}catch(r){console.warn(r)}return z(this,B)};function Ee(r,e){var t,s;if((t=e==null?void 0:e.include)!=null&&t.length){const i=new Set(e.include);return r.filter(n=>i.has(n.id))}if((s=e==null?void 0:e.exclude)!=null&&s.length){const i=new Set(e.exclude);return r.filter(n=>!i.has(n.id))}return r}const Je=async r=>{const e=await Promise.all(r.map(t=>t.isPreauthorized().catch(()=>!1)));return r.filter((t,s)=>e[s])},ur=r=>{try{return r&&["request","isConnected","provider","enable","isPreauthorized","on","off","version","id","name","icon"].every(e=>e in r)}catch{}return!1};function ke(r,e){return Object.values(Object.getOwnPropertyNames(r).reduce((t,s)=>{if(s.startsWith("starknet")){const i=r[s];e(i)&&!t[i.id]&&(t[i.id]=i)}return t},{}))}const xe=(r,e)=>{if(e&&Array.isArray(e)){r.sort((s,i)=>e.indexOf(s.id)-e.indexOf(i.id));const t=r.length-e.length;return[...r.slice(t),...Xe(r.slice(0,t))]}else return Xe(r)},dr=typeof window<"u"?window:{},hr={windowObject:dr,isWalletObject:ur,storageFactoryImplementation:r=>new cr(r)};function mr(r={}){const{storageFactoryImplementation:e,windowObject:t,isWalletObject:s}={...hr,...r},i=e("gsw-last");return{getAvailableWallets:async(n={})=>{const o=ke(t,s);return Se(l=>Ee(l,n),l=>xe(l,n.sort))(o)},getPreAuthorizedWallets:async(n={})=>{const o=ke(t,s);return Se(l=>Je(l),l=>Ee(l,n),l=>xe(l,n.sort))(o)},getDiscoveryWallets:async(n={})=>Se(o=>Ee(o,n),o=>xe(o,n.sort))(ar),getLastConnectedWallet:async()=>{const n=i.get(),o=ke(t,s).find(c=>c.id===n),[l]=await Je(o?[o]:[]);return l||(i.delete(),null)},enable:async(n,o)=>{if(await n.enable(o??{starknetVersion:"v5"}),!n.isConnected)throw new Error("Failed to connect to wallet");return i.set(n.id),n},disconnect:async({clearLastWallet:n}={})=>{n&&i.delete()}}}const re=mr(),et=typeof window<"u"?window:null;function gr(){var r;switch((r=sr.getParser(et==null?void 0:et.navigator.userAgent).getBrowserName())==null?void 0:r.toLowerCase()){case"firefox":return"firefox";case"microsoft edge":return"edge";case"android browser":case"chrome":case"chromium":case"electron":case"opera":case"vivaldi":return"chrome";default:return null}}const De=async r=>r?re.enable(r,{starknetVersion:"v5"}).catch(()=>null):null,fr=async({modalMode:r="canAsk",storeVersion:e=gr(),modalTheme:t,...s}={})=>{var i,n;const o=await re.getPreAuthorizedWallets({...s}),l=await re.getLastConnectedWallet();if(r==="neverAsk"){const m=(i=o.find(d=>d.id===(l==null?void 0:l.id)))!=null?i:o[0];return De(m)}const c=await re.getAvailableWallets(s);if(r==="canAsk"&&l){const m=((n=o.find(d=>d.id===(l==null?void 0:l.id)))!=null?n:c.length===1)?c[0]:void 0;if(m)return De(m)}const u=(await re.getDiscoveryWallets(s)).filter(m=>!!m.downloads[e]).map(({downloads:m,...d})=>({...d,download:m[e]}));return Zt({lastWallet:l,preAuthorizedWallets:o,installedWallets:c,discoveryWallets:u,enable:De,modalOptions:{theme:t}})};let tt;document.addEventListener("DOMContentLoaded",()=>{const r=document.querySelector(".section-canvas");if(!r){console.error("Canvas element not found");return}const e=document.querySelector(".mode-chooser");if(!e){console.error("Mode element not found ");return}new E(r).render();const i=new URLSearchParams(location.search).get("matchId"),n=document.querySelector(".statusbox-button-back");let o=null;if(i){o=Fe();return}n==null||n.classList.add("hidden"),e.showModal();const l=document.querySelector(".mode-chooser-form");if(!l){console.error(".mode-chooser-form not found ");return}n==null||n.addEventListener("click",()=>{o&&o.end&&o.end(),n==null||n.classList.add("hidden"),e.showModal()}),e.addEventListener("cancel",m=>{m.preventDefault()}),e.addEventListener("close",m=>{const d=new FormData(l);c(d.get("mode"))});function c(m){console.log("({}).VITE_FOUR_CONNECT_STARK_WALLET_ACC_ADDRESS: ",{}.VITE_FOUR_CONNECT_STARK_WALLET_ACC_ADDRESS),u().then(()=>{console.log("Wallet connected"),console.log("initGame chosenMode:",m),n==null||n.classList.remove("hidden"),m==="offline-ai"?o=vt():m==="online-human"?o=Fe():console.error("Invalid game mode received",m)}).catch(d=>{console.error("Wallet connection error",d)})}async function u(){if(!tt){const m=await fr({modalMode:"alwaysAsk",modalTheme:"dark",storeVersion:"chrome"});m&&(await m.enable(),tt=m.isConnected,m.selectedAddress,m.account)}}});
